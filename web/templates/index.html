<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Anomaly Detection Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --danger-color: #ff6b6b;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --light-bg: #f5f7fa;
            --dark-bg: #1a1a2e;
            --dark-card: #16213e;
            --text-dark: #333333;
            --text-light: #ffffff;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light-bg);
            transition: background 0.3s;
        }
        
        body.dark-mode {
            background: var(--dark-bg);
            color: var(--text-light);
        }
        
        nav {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        nav.dark-mode {
            background: var(--dark-card);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .nav-left {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.3em;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .nav-right {
            display: flex;
            gap: 10px;
        }
        
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.3em;
            cursor: pointer;
            padding: 5px 10px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            background: var(--success-color);
            color: white;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .status-badge.offline {
            background: var(--danger-color);
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }
        
        body.dark-mode .card {
            background: var(--dark-card);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .card:hover {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transform: translateY(-5px);
        }
        
        .card h2 {
            color: var(--text-dark);
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        
        body.dark-mode .card h2 {
            color: var(--text-light);
        }
        
        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        body.dark-mode .metric {
            border-bottom-color: #444;
        }
        
        .metric:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            color: #666;
            font-weight: 500;
        }
        
        body.dark-mode .metric-label {
            color: #aaa;
        }
        
        .metric-value {
            color: var(--primary-color);
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .metric-value.alert {
            color: var(--danger-color);
        }
        
        .metric-value.warning {
            color: var(--warning-color);
        }
        
        .metric-value.success {
            color: var(--success-color);
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            background: var(--success-color);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .status-indicator.warning {
            background: var(--warning-color);
        }
        
        .status-indicator.danger {
            background: var(--danger-color);
        }
        
        .header {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }
        
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
        }
        
        .stats-grid {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            border-radius: 10px;
        }
        
        body.dark-mode .stat-card {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .stat-card.warning {
            border-left-color: var(--warning-color);
        }
        
        .stat-card.danger {
            border-left-color: var(--danger-color);
        }
        
        .stat-card h3 {
            color: var(--primary-color);
            font-size: 0.9em;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 10px;
        }
        
        .stat-card .value {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--text-dark);
        }
        
        body.dark-mode .stat-card .value {
            color: var(--text-light);
        }
        
        .chart-card {
            grid-column: 1 / -1;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
        }
        
        body.dark-mode .chart-container {
            background: var(--dark-card);
        }
        
        .refresh-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .refresh-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }
        
        .refresh-btn.auto {
            animation: pulse 1s infinite;
        }
        
        .timestamp {
            font-size: 0.9em;
            color: #999;
            margin-top: 10px;
        }
        
        body.dark-mode .timestamp {
            color: #666;
        }
        
        /* Anomaly History Feed Styles */
        .anomaly-feed {
            grid-column: 1 / -1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        body.dark-mode .anomaly-feed {
            background: var(--dark-card);
        }
        
        .anomaly-feed h2 {
            color: var(--text-dark);
            margin-bottom: 20px;
            font-size: 1.4em;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        
        body.dark-mode .anomaly-feed h2 {
            color: var(--text-light);
        }
        
        .anomaly-history {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .anomaly-history::-webkit-scrollbar {
            width: 8px;
        }
        
        .anomaly-history::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        body.dark-mode .anomaly-history::-webkit-scrollbar-track {
            background: #222;
        }
        
        .anomaly-history::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }
        
        .anomaly-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            transition: all 0.3s;
            animation: slideIn 0.3s ease-out;
        }
        
        body.dark-mode .anomaly-item {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .anomaly-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .anomaly-item.cpu {
            border-left-color: #667eea;
        }
        
        .anomaly-item.network {
            border-left-color: #764ba2;
        }
        
        .anomaly-item.sensor {
            border-left-color: #28a745;
        }
        
        .anomaly-item.financial {
            border-left-color: #ffc107;
        }
        
        .anomaly-item.critical {
            border-left-color: var(--danger-color);
        }
        
        .anomaly-info {
            flex: 1;
        }
        
        .anomaly-title {
            font-weight: 700;
            font-size: 1.05em;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        body.dark-mode .anomaly-title {
            color: var(--text-light);
        }
        
        .anomaly-time {
            font-size: 0.85em;
            color: #666;
        }
        
        body.dark-mode .anomaly-time {
            color: #aaa;
        }
        
        .anomaly-badge {
            padding: 8px 16px;
            border-radius: 20px;
            background: var(--primary-color);
            color: white;
            font-weight: 600;
            font-size: 0.95em;
            white-space: nowrap;
        }
        
        .anomaly-badge.warning {
            background: var(--warning-color);
            color: #333;
        }
        
        .anomaly-badge.danger {
            background: var(--danger-color);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.5em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            nav {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-left">
            üìä Real-Time Dashboard
        </div>
        <div class="nav-right">
            <span class="status-badge" id="statusBadge">‚óè LIVE</span>
            <a href="/" style="color: var(--primary-color); text-decoration: none; margin: 0 15px; font-weight: 500;">Home</a>
            <button class="refresh-btn" onclick="refreshDashboard()">üîÑ Refresh</button>
            <button class="theme-toggle" onclick="toggleDarkMode()" title="Toggle dark mode">üåô</button>
        </div>
    </nav>
    
    <div class="dashboard">
        <div class="header">
            <h1>üìä Real-Time Anomaly Detection</h1>
            <p>Live monitoring and analysis of anomalies across multiple data streams</p>
        </div>
        
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <h3>System Status</h3>
                <div class="value">
                    <span class="status-indicator" id="statusIndicator"></span><span id="statusText">ACTIVE</span>
                </div>
                <div class="timestamp" id="lastUpdate"></div>
            </div>
            
            <div class="stat-card">
                <h3>Total Anomalies (24h)</h3>
                <div class="value" id="totalAnomalies">--</div>
            </div>
            
            <div class="stat-card warning">
                <h3>Detection Rate</h3>
                <div class="value" id="detectionRate">--</div>
            </div>
            
            <div class="stat-card danger">
                <h3>Critical Alerts</h3>
                <div class="value" id="criticalAlerts">0</div>
            </div>
        </div>
        
        <!-- CPU Monitoring Card -->
        <div class="card">
            <h2>üíª CPU Usage Monitoring</h2>
            <div class="metric">
                <span class="metric-label">Current Load</span>
                <span class="metric-value" id="cpuLoad">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value alert" id="cpuAnomalies">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Normal Data Points</span>
                <span class="metric-value" id="cpuNormal">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Alert Threshold</span>
                <span class="metric-value">85%</span>
            </div>
        </div>
        
        <!-- Network Monitoring Card -->
        <div class="card">
            <h2>üåê Network Traffic Analysis</h2>
            <div class="metric">
                <span class="metric-label">Current Bandwidth</span>
                <span class="metric-value" id="networkBandwidth">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value alert" id="networkAnomalies">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Peak Traffic</span>
                <span class="metric-value" id="networkPeak">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Average Rate</span>
                <span class="metric-value" id="networkAvg">--</span>
            </div>
        </div>
        
        <!-- Sensor Data Card -->
        <div class="card">
            <h2>üå°Ô∏è Sensor Data (Temperature)</h2>
            <div class="metric">
                <span class="metric-label">Current Temp</span>
                <span class="metric-value" id="sensorTemp">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value" id="sensorAnomalies">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Safe Range</span>
                <span class="metric-value">15-30¬∞C</span>
            </div>
            <div class="metric">
                <span class="metric-label">Status</span>
                <span class="metric-value"><span class="status-indicator" id="sensorStatus"></span><span id="sensorStatusText">Normal</span></span>
            </div>
        </div>
        
        <!-- Financial Data Card -->
        <div class="card">
            <h2>üìà Financial Data (Stock Prices)</h2>
            <div class="metric">
                <span class="metric-label">Current Price</span>
                <span class="metric-value" id="stockPrice">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value alert" id="stockAnomalies">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Change (24h)</span>
                <span class="metric-value" id="stockChange">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Volatility</span>
                <span class="metric-value warning" id="stockVolatility">--</span>
            </div>
        </div>
        
        <!-- Detection Methods Card -->
        <div class="card">
            <h2>‚öôÔ∏è Active Detection Methods</h2>
            <div class="metric">
                <span class="metric-label">Statistical (Z-Score)</span>
                <span class="status-indicator"></span>ACTIVE
            </div>
            <div class="metric">
                <span class="metric-label">Isolation Forest</span>
                <span class="status-indicator"></span>ACTIVE
            </div>
            <div class="metric">
                <span class="metric-label">Local Outlier Factor</span>
                <span class="status-indicator warning"></span>READY
            </div>
            <div class="metric">
                <span class="metric-label">Ensemble Voting</span>
                <span class="status-indicator"></span>ACTIVE
            </div>
        </div>
        
        <!-- Performance Metrics Card -->
        <div class="card">
            <h2>‚ö° System Performance</h2>
            <div class="metric">
                <span class="metric-label">Processing Speed</span>
                <span class="metric-value" id="procSpeed">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Detection Accuracy</span>
                <span class="metric-value success" id="accuracy">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Data Points/Second</span>
                <span class="metric-value" id="dataPointsPerSec">--</span>
            </div>
            <div class="metric">
                <span class="metric-label">Uptime</span>
                <span class="metric-value success" id="uptime">--</span>
            </div>
        </div>
        
        <!-- Unified Anomaly History Feed -->
        <div class="anomaly-feed">
            <h2>üìú Anomaly History</h2>
            <div class="anomaly-history" id="anomalyHistory">
                <div class="anomaly-item cpu">
                    <div class="anomaly-info">
                        <div class="anomaly-title">üíª CPU Usage</div>
                        <div class="anomaly-time">Initializing...</div>
                    </div>
                    <div class="anomaly-badge">--</div>
                </div>
            </div>
        </div>
        
        <!-- System Health Chart -->
        <div class="card chart-card">
            <h2>üìä Anomaly Detection Trends</h2>
            <div class="chart-container">
                <canvas id="trendsChart"></canvas>
            </div>
        </div>
    </div>
    
    <script>
        let trendsChart = null;
        let lastUpdate = new Date();
        let totalAnomaliesCount = 0;
        
        // Dark mode toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            document.querySelector('nav').classList.toggle('dark-mode');
            document.querySelectorAll('.card').forEach(el => el.classList.toggle('dark-mode'));
            document.querySelector('.theme-toggle').textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }
        
        // Load dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            toggleDarkMode();
        }
        
        // Generate realistic random data
        function getRandomData(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        function getRandomFloat(min, max) {
            return (Math.random() * (max - min) + min).toFixed(2);
        }
        
        // Update dashboard with simulated data
        function updateDashboard() {
            lastUpdate = new Date();
            document.getElementById('lastUpdate').textContent = `Updated: ${lastUpdate.toLocaleTimeString()}`;
            
            // CPU Data
            const cpuVal = getRandomData(20, 95);
            document.getElementById('cpuLoad').textContent = cpuVal + '%';
            document.getElementById('cpuAnomalies').textContent = getRandomData(5, 15);
            document.getElementById('cpuNormal').textContent = getRandomData(400, 495);
            
            // Network Data
            const netBand = getRandomData(150, 350);
            document.getElementById('networkBandwidth').textContent = netBand + ' Mbps';
            document.getElementById('networkAnomalies').textContent = getRandomData(4, 12);
            document.getElementById('networkPeak').textContent = getRandomData(700, 950) + ' Mbps';
            document.getElementById('networkAvg').textContent = getRandomData(200, 300) + ' Mbps';
            
            // Sensor Data
            const tempVal = (getRandomFloat(18, 28));
            document.getElementById('sensorTemp').textContent = tempVal + '¬∞C';
            document.getElementById('sensorAnomalies').textContent = getRandomData(2, 8);
            
            // Financial Data
            const priceVal = getRandomFloat(150, 165);
            document.getElementById('stockPrice').textContent = '$' + priceVal;
            const priceChange = getRandomFloat(-5, 5);
            document.getElementById('stockChange').textContent = (priceChange > 0 ? '+' : '') + priceChange + '%';
            document.getElementById('stockAnomalies').textContent = getRandomData(10, 20);
            document.getElementById('stockVolatility').textContent = (Math.random() > 0.5 ? 'High' : 'Medium');
            
            // System Performance
            document.getElementById('procSpeed').textContent = getRandomFloat(0.8, 1.5) + 's';
            document.getElementById('accuracy').textContent = getRandomData(92, 99) + '%';
            document.getElementById('dataPointsPerSec').textContent = getRandomData(7000, 9500);
            document.getElementById('uptime').textContent = '99.9' + getRandomData(0, 9) + '%';
            
            // Update stats
            totalAnomaliesCount += getRandomData(5, 15);
            document.getElementById('totalAnomalies').textContent = totalAnomaliesCount;
            document.getElementById('detectionRate').textContent = getRandomFloat(5, 12) + '%';
            document.getElementById('criticalAlerts').textContent = getRandomData(0, 3);
            
            // Update anomaly history feed
            updateAnomalyHistory();
            
            // Update trends chart
            updateTrendsChart();
        }
        
        // Anomaly history data
        let anomalyHistory = [];
        const MAX_HISTORY = 20;
        
        // Update unified anomaly history feed
        function updateAnomalyHistory() {
            // Generate new anomalies randomly
            if (Math.random() > 0.3) { // 70% chance to add new anomaly each update
                const types = [
                    { type: 'cpu', icon: 'üíª', name: 'CPU Usage', unit: '%', min: 85, max: 100 },
                    { type: 'network', icon: 'üåê', name: 'Network Traffic', unit: ' Mbps', min: 500, max: 900 },
                    { type: 'sensor', icon: 'üå°Ô∏è', name: 'Temperature', unit: '¬∞C', min: 32, max: 45 },
                    { type: 'financial', icon: 'üìà', name: 'Stock Price', unit: '', min: 10, max: 50, prefix: '$' }
                ];
                
                const selectedType = types[Math.floor(Math.random() * types.length)];
                const value = getRandomFloat(selectedType.min, selectedType.max);
                const severity = value > (selectedType.max - selectedType.min) * 0.7 + selectedType.min ? 'danger' : 'warning';
                
                const newAnomaly = {
                    type: selectedType.type,
                    icon: selectedType.icon,
                    name: selectedType.name,
                    value: (selectedType.prefix || '') + value + selectedType.unit,
                    time: new Date(),
                    severity: severity
                };
                
                anomalyHistory.unshift(newAnomaly);
                
                // Keep only latest entries
                if (anomalyHistory.length > MAX_HISTORY) {
                    anomalyHistory = anomalyHistory.slice(0, MAX_HISTORY);
                }
            }
            
            // Render anomaly history
            renderAnomalyHistory();
        }
        
        function renderAnomalyHistory() {
            const container = document.getElementById('anomalyHistory');
            
            if (anomalyHistory.length === 0) {
                container.innerHTML = `
                    <div class="anomaly-item">
                        <div class="anomaly-info">
                            <div class="anomaly-title">No anomalies detected</div>
                            <div class="anomaly-time">System monitoring active</div>
                        </div>
                        <div class="anomaly-badge">‚úì Normal</div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = anomalyHistory.map(anomaly => {
                const timeAgo = getTimeAgo(anomaly.time);
                return `
                    <div class="anomaly-item ${anomaly.type} ${anomaly.severity}">
                        <div class="anomaly-info">
                            <div class="anomaly-title">${anomaly.icon} ${anomaly.name}</div>
                            <div class="anomaly-time">${timeAgo}</div>
                        </div>
                        <div class="anomaly-badge ${anomaly.severity}">${anomaly.value}</div>
                    </div>
                `;
            }).join('');
        }
        
        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            if (seconds < 60) return 'Just now';
            if (seconds < 120) return '1 minute ago';
            if (seconds < 3600) return Math.floor(seconds / 60) + ' minutes ago';
            if (seconds < 7200) return '1 hour ago';
            if (seconds < 86400) return Math.floor(seconds / 3600) + ' hours ago';
            return Math.floor(seconds / 86400) + ' days ago';
        }
        
        // Update trends chart
        function updateTrendsChart() {
            const ctx = document.getElementById('trendsChart').getContext('2d');
            
            const labels = [];
            for (let i = 23; i >= 0; i--) {
                const hour = new Date();
                hour.setHours(hour.getHours() - i);
                labels.push(hour.getHours() + ':00');
            }
            
            const generateTrendData = () => {
                const data = [];
                let baseValue = 15;
                for (let i = 0; i < 24; i++) {
                    baseValue += getRandomData(-5, 5);
                    data.push(Math.max(5, baseValue));
                }
                return data;
            };
            
            const chartData = {
                labels: labels,
                datasets: [
                    {
                        label: 'Statistical Detector',
                        data: generateTrendData(),
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 2,
                        fill: true
                    },
                    {
                        label: 'Isolation Forest',
                        data: generateTrendData(),
                        borderColor: '#764ba2',
                        backgroundColor: 'rgba(118, 75, 162, 0.1)',
                        borderWidth: 2,
                        fill: true
                    }
                ]
            };
            
            if (trendsChart) {
                trendsChart.data = chartData;
                trendsChart.update();
            } else {
                trendsChart = new Chart(ctx, {
                    type: 'line',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Anomalies Detected'
                                }
                            }
                        }
                    }
                });
            }
        }
        
        function refreshDashboard() {
            const btn = event.target;
            btn.disabled = true;
            btn.style.opacity = '0.5';
            updateDashboard();
            setTimeout(() => {
                btn.disabled = false;
                btn.style.opacity = '1';
            }, 500);
        }
        
        // Initialize dashboard
        updateDashboard();
        
        // Auto-refresh every 30 seconds
        setInterval(updateDashboard, 30000);
    </script>
</body>
</html>
        
        <!-- CPU Monitoring Card -->
        <div class="card">
            <h2>CPU Usage Monitoring</h2>
            <div class="metric">
                <span class="metric-label">Current Load</span>
                <span class="metric-value">67.3%</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value alert">12</span>
            </div>
            <div class="metric">
                <span class="metric-label">Normal Data Points</span>
                <span class="metric-value">488</span>
            </div>
            <div class="metric">
                <span class="metric-label">Alert Threshold</span>
                <span class="metric-value">85%</span>
            </div>
        </div>
        
        <!-- Network Monitoring Card -->
        <div class="card">
            <h2>Network Traffic Analysis</h2>
            <div class="metric">
                <span class="metric-label">Current Bandwidth</span>
                <span class="metric-value">234 Mbps</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value alert">8</span>
            </div>
            <div class="metric">
                <span class="metric-label">Peak Traffic</span>
                <span class="metric-value">892 Mbps</span>
            </div>
            <div class="metric">
                <span class="metric-label">Average Rate</span>
                <span class="metric-value">245 Mbps</span>
            </div>
        </div>
        
        <!-- Sensor Data Card -->
        <div class="card">
            <h2>Sensor Data (Temperature)</h2>
            <div class="metric">
                <span class="metric-label">Current Temp</span>
                <span class="metric-value">23.5¬∞C</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value">5</span>
            </div>
            <div class="metric">
                <span class="metric-label">Safe Range</span>
                <span class="metric-value">15-30¬∞C</span>
            </div>
            <div class="metric">
                <span class="metric-label">Status</span>
                <span class="metric-value"><span class="status-indicator"></span>Normal</span>
            </div>
        </div>
        
        <!-- Financial Data Card -->
        <div class="card">
            <h2>Financial Data (Stock Prices)</h2>
            <div class="metric">
                <span class="metric-label">Current Price</span>
                <span class="metric-value">$156.78</span>
            </div>
            <div class="metric">
                <span class="metric-label">Anomalies Detected</span>
                <span class="metric-value alert">17</span>
            </div>
            <div class="metric">
                <span class="metric-label">Change (24h)</span>
                <span class="metric-value">+2.34%</span>
            </div>
            <div class="metric">
                <span class="metric-label">Volatility</span>
                <span class="metric-value">High</span>
            </div>
        </div>
        
        <!-- Detection Methods Card -->
        <div class="card">
            <h2>Active Detection Methods</h2>
            <div class="metric">
                <span class="metric-label">Statistical (Z-Score)</span>
                <span class="status-indicator"></span>
            </div>
            <div class="metric">
                <span class="metric-label">Isolation Forest</span>
                <span class="status-indicator"></span>
            </div>
            <div class="metric">
                <span class="metric-label">Local Outlier Factor</span>
                <span class="status-indicator"></span>
            </div>
            <div class="metric">
                <span class="metric-label">Ensemble Voting</span>
                <span class="status-indicator"></span>
            </div>
        </div>
        
        <!-- Performance Metrics Card -->
        <div class="card">
            <h2>System Performance</h2>
            <div class="metric">
                <span class="metric-label">Processing Speed</span>
                <span class="metric-value">1.2s</span>
            </div>
            <div class="metric">
                <span class="metric-label">Detection Accuracy</span>
                <span class="metric-value">94.8%</span>
            </div>
            <div class="metric">
                <span class="metric-label">Data Points/Second</span>
                <span class="metric-value">8,500</span>
            </div>
            <div class="metric">
                <span class="metric-label">Uptime</span>
                <span class="metric-value">99.95%</span>
            </div>
        </div>
        
        <!-- Alerts Card -->
        <div class="card">
            <h2>Recent Alerts</h2>
            <div class="metric">
                <span class="metric-label">‚ö†Ô∏è Unusual CPU spike</span>
                <span class="metric-value">2 min ago</span>
            </div>
            <div class="metric">
                <span class="metric-label">‚ö†Ô∏è Network anomaly detected</span>
                <span class="metric-value">15 min ago</span>
            </div>
            <div class="metric">
                <span class="metric-label">‚ö†Ô∏è High volatility in stock</span>
                <span class="metric-value">28 min ago</span>
            </div>
            <div class="metric">
                <span class="metric-label">‚úì Temperature normalized</span>
                <span class="metric-value">45 min ago</span>
            </div>
        </div>
    </div>
    
    <script>
        // Auto-refresh dashboard every 30 seconds
        setInterval(() => {
            console.log('Dashboard updated at', new Date().toLocaleTimeString());
        }, 30000);
    </script>
</body>
</html>
